<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>KO POC</title>

    <link rel="stylesheet" type="text/css" href="Styles/revenueForecast.css"/>

    <script src="Scripts/knockout-3.3.0.js"></script>
    <script src="Scripts/jquery-2.1.4.min.js"></script>
    <script src="Scripts/underscore.min.js"></script>
    <script src="Scripts/underscore.nest.js"></script>
    <script src="Scripts/moment.min.js"></script>
    <script src="Controllers/revenueForecastCtrl.js"></script>
    <script src="Models/revenueForecastMetric.js"></script>
    <script src="Models/revenueForecastNode.js"></script>
    <script src="ViewModels/revenueForecastVm.js"></script>
</head>
<body>

    <div><a href="shmindex.html">Shm index html</a></div>

    <div data-bind="template: { name: 'treeNode1', foreach: result1 }" class="templateDiv"></div>

    <script type="text/html" id="treeNode1">

        <div class="group-row" data-bind="css: { totalsDiv: level() == 0 }">
            <div class="group-panel">
                <div data-bind="style: { marginLeft: (level()) * 1 + 'em' }">
                    <span data-bind="text: name" style="font-weight: bold"></span>
                    <div style="color: #808080; font-size: 11pt;"><span data-bind="text: $root.groupItemsCount(level(), children().length)"></span></div>
                </div>
            </div>
            <div class="group-table-container">
                <table data-bind="foreach: table">
                    <tr data-bind="if: $parent.level() === 0 && $index() === 0">
                        <td></td>
                        <!-- ko foreach: $root.tableHeaderMonthQuarterArray -->
                        <td data-bind="text: $data, css: { aggregateColumn: ($index() + 1) % 4 === 0 }"></td>
                        <!-- /ko -->
                    </tr>
                    <tr>
                        <td data-bind="text: name" class="name-column"></td>
                        <!-- ko foreach: values -->
                        <td data-bind="text: $data"></td>
                        <!-- ko if: ($index() + 1) % 3 == 0 -->
                        <td data-bind="text: $root.sumQuarter($parent.values, $index())" class="aggregateColumn"></td>
                        <!-- /ko -->
                        <!-- /ko -->
                    </tr>
                </table>
            </div>
        </div>
        <div data-bind="template: { name: 'treeNode1', foreach: children }"></div>
    </script>

    <script type="text/javascript">

        ko.applyBindings(new RevenueForecastVm());

    </script>

</body>
</html>